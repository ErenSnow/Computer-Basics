## [第3章 系统总线](https://app.yinxiang.com/fx/5ec8520c-408e-4f2d-8a80-716ff522dbc8)
### 3.1 总线的基本概念
#### 一、为什么要用总线
> 因为之前运用的分散连接方式不好用：以前计算机的IO设备将数据存入主存需要经过CPU，这样CPU就会停止工作，严重影响效率，若要各个部件之间相互不影响，则需要两两之间接一条线，这样灵活性太差，内部太混乱，所以总线就出现了

#### 二、什么是总线
> 各个部件共享的传输介质

#### 三、总线上信息的传送
> - 并行：多条线路同时传输数据，但是远距离传输存在干扰
> - 串行：相对并行慢，但是不存在干扰

#### 四、总线结构的计算机举例
##### 1.单总线结构
![4892eaef272165c3f512f0627e622870.png](en-resource://database/805:0)

##### 2.面向CPU的双总线结构
![8c45b2df33e677d3b27509c783d348ac.png](en-resource://database/807:0)

##### 3.以存储器为中心的双总线结构
![8ec8ad3bb23e9e08878e8010deb2d9a6.png](en-resource://database/809:0)
***
### 3.2 总线的分类
##### 1.片内总线
> 芯片内部的总线

##### 2.系统总线
> 计算机各部件之间的信息传输线
- 数据总线：双向 与机器字长、存储字长有关
- 地址总线：单向 与存储地址、IO地址有关
- 控制总线：有出 有入

##### 3.通信总线
> 用于计算机系统之间和计算机系统与其他系统（如控制仪表、移动通信等）之间的通信

**传输方式：**
- 串行通信总线
- 并行通信总线
***
### 3.3 总线特性及性能指标
#### 一、总线物理实现
![9fb1a9b42dafdfb5a69d4ca764814b18.png](en-resource://database/811:0)
#### 二、总线特性
##### 1.机械特性
> 尺寸、形状、管脚数及排列顺序

##### 2. 电气特性
> 传输方向 和有效的 电平 范围

##### 3.功能特性
> 每跟传输线的功能
> - 地址
> - 数据
> - 控制

##### 4.时间特性
> 信号的时序关系

#### 三、总线的性能指标
- 总线宽度：数据线的根数
- 标准传输率：每秒传输的最大字节数（MBps）
- 时钟同步/异步：同步、不同步
- 总线复用：地址线与数据线复用
- 信号线数：地址线、数据线和控制线的总和
- 总线控制方式：突发、自动、仲裁、逻辑、计数
- 其他指标：负载能力

#### 四、总线标准
![3a348162773ede26f27d442e083005de.png](en-resource://database/813:0)
***
### 3.4 总线结构
#### 一、单总线结构
![14469d2b53614fb3bdb190052e2c5c51.png](en-resource://database/815:0)

#### 二、多总线结构
##### 1.双总线结构
![b07cb9c92add5178a18b158eee945713.png](en-resource://database/817:0)

##### 2.三总线结构
![305034e8d6ed01cfa580f476f9dd6b5c.png](en-resource://database/819:0)

##### 3.三总线结构的又一形式
![3466b8cf0d5851901a82699de74a17bb.png](en-resource://database/821:0)

##### 4.四总线结构
![6e753f59e0ae98277d185344846ef6ca.png](en-resource://database/823:0)

#### 三、总线结构举例
##### 1.传统微型机总线结构
![6c7cf80de986a49e663969790316be53.png](en-resource://database/825:0)

##### 2.VL-BUG局部总线结构
![53dd5961f8787f437e50df69a1e08453.png](en-resource://database/827:0)

##### 3.PCI总线结构
![772d4e05410f1a7669576b034651195c.png](en-resource://database/829:0)

##### 4.多层PCI总线结构
![da8f3c3fbef8be79b06bbade2742a3af.png](en-resource://database/831:0)
***
### 3.5 总线控制
#### 一、总线判优控制
##### 1.基本概念
- 主设备（模块）：对总线有控制权
- 从设备（模块）：响应从主设备发来的总线命令
- 总线判优控制
    - 集中式
        - 链式查询
        - 计数器定时查询
        - 独立请求方式
    - 分布式
 
#### 二、总线通信控制
##### 1.目的 解决通信双方协调配合问题
##### 2.总线传输周期
- 申请分配阶段：主模块申请，总线仲裁决定
- 寻址阶段：主模块向从模块给出地址和命令
- 传数阶段：主模块和从模块交换数据
- 结束阶段：主模块撤消有关信息

##### 3.总线通信的四种方式
- 同步通信：由统一时标控制数据传送
- 异步通信：采用应答方式，没有公共时钟标准
- 半同步通信：同步、异步结合
- 分离式通信：充分挖掘系统总线每个瞬间的潜力

**前三种通信的共同点**

一个总线传输周期
- 主模块发地址、命令（占用总线）
- 从模块准备数据（不占用总线，总线空闲，资源浪费）
- 从模块向主模块发数据（占用总线）

**分离式通信**
> 充分挖掘系统总线每个瞬间的潜力

一个总线传输周期
- 子周期1（主模块申请占用总线，使用完后即放弃总线的使用权）
- 子周期2（从模块申请占用总线，将各种信息送至总线上）

**分离式通信特点**
> 充分提高了总线的有效占用

- 各模块有权申请占用总线
- 采用同步方式通信，不等对方回答
- 各模块准备数据时，不占用总线
- 总线被占用时，无空闲## [第三章 系统总线](https://app.yinxiang.com/fx/5ec8520c-408e-4f2d-8a80-716ff522dbc8)
### 3.1 总线的基本概念
#### 一、为什么要用总线
> 因为之前运用的分散连接方式不好用：以前计算机的IO设备将数据存入主存需要经过CPU，这样CPU就会停止工作，严重影响效率，若要各个部件之间相互不影响，则需要两两之间接一条线，这样灵活性太差，内部太混乱，所以总线就出现了

#### 二、什么是总线
> 各个部件共享的传输介质

#### 三、总线上信息的传送
> - 并行：多条线路同时传输数据，但是远距离传输存在干扰
> - 串行：相对并行慢，但是不存在干扰

#### 四、总线结构的计算机举例
##### 1.单总线结构
![4892eaef272165c3f512f0627e622870.png](en-resource://database/805:0)

##### 2.面向CPU的双总线结构
![8c45b2df33e677d3b27509c783d348ac.png](en-resource://database/807:0)

##### 3.以存储器为中心的双总线结构
![8ec8ad3bb23e9e08878e8010deb2d9a6.png](en-resource://database/809:0)
***
### 3.2 总线的分类
##### 1.片内总线
> 芯片内部的总线

##### 2.系统总线
> 计算机各部件之间的信息传输线
- 数据总线：双向 与机器字长、存储字长有关
- 地址总线：单向 与存储地址、IO地址有关
- 控制总线：有出 有入

##### 3.通信总线
> 用于计算机系统之间和计算机系统与其他系统（如控制仪表、移动通信等）之间的通信

**传输方式：**
- 串行通信总线
- 并行通信总线
***
### 3.3 总线特性及性能指标
#### 一、总线物理实现
![9fb1a9b42dafdfb5a69d4ca764814b18.png](en-resource://database/811:0)
#### 二、总线特性
##### 1.机械特性
> 尺寸、形状、管脚数及排列顺序

##### 2. 电气特性
> 传输方向 和有效的 电平 范围

##### 3.功能特性
> 每跟传输线的功能
> - 地址
> - 数据
> - 控制

##### 4.时间特性
> 信号的时序关系

#### 三、总线的性能指标
- 总线宽度：数据线的根数
- 标准传输率：每秒传输的最大字节数（MBps）
- 时钟同步/异步：同步、不同步
- 总线复用：地址线与数据线复用
- 信号线数：地址线、数据线和控制线的总和
- 总线控制方式：突发、自动、仲裁、逻辑、计数
- 其他指标：负载能力

#### 四、总线标准
![3a348162773ede26f27d442e083005de.png](en-resource://database/813:0)
***
### 3.4 总线结构
#### 一、单总线结构
![14469d2b53614fb3bdb190052e2c5c51.png](en-resource://database/815:0)

#### 二、多总线结构
##### 1.双总线结构
![b07cb9c92add5178a18b158eee945713.png](en-resource://database/817:0)

##### 2.三总线结构
![305034e8d6ed01cfa580f476f9dd6b5c.png](en-resource://database/819:0)

##### 3.三总线结构的又一形式
![3466b8cf0d5851901a82699de74a17bb.png](en-resource://database/821:0)

##### 4.四总线结构
![6e753f59e0ae98277d185344846ef6ca.png](en-resource://database/823:0)

#### 三、总线结构举例
##### 1.传统微型机总线结构
![6c7cf80de986a49e663969790316be53.png](en-resource://database/825:0)

##### 2.VL-BUG局部总线结构
![53dd5961f8787f437e50df69a1e08453.png](en-resource://database/827:0)

##### 3.PCI总线结构
![772d4e05410f1a7669576b034651195c.png](en-resource://database/829:0)

##### 4.多层PCI总线结构
![da8f3c3fbef8be79b06bbade2742a3af.png](en-resource://database/831:0)
***
### 3.5 总线控制
#### 一、总线判优控制
##### 1.基本概念
- 主设备（模块）：对总线有控制权
- 从设备（模块）：响应从主设备发来的总线命令
- 总线判优控制
    - 集中式
        - 链式查询
        - 计数器定时查询
        - 独立请求方式
    - 分布式
 
#### 二、总线通信控制
##### 1.目的 解决通信双方协调配合问题
##### 2.总线传输周期
- 申请分配阶段：主模块申请，总线仲裁决定
- 寻址阶段：主模块向从模块给出地址和命令
- 传数阶段：主模块和从模块交换数据
- 结束阶段：主模块撤消有关信息

##### 3.总线通信的四种方式
- 同步通信：由统一时标控制数据传送
- 异步通信：采用应答方式，没有公共时钟标准
- 半同步通信：同步、异步结合
- 分离式通信：充分挖掘系统总线每个瞬间的潜力

**前三种通信的共同点**

一个总线传输周期
- 主模块发地址、命令（占用总线）
- 从模块准备数据（不占用总线，总线空闲，资源浪费）
- 从模块向主模块发数据（占用总线）

**分离式通信**
> 充分挖掘系统总线每个瞬间的潜力

一个总线传输周期
- 子周期1（主模块申请占用总线，使用完后即放弃总线的使用权）
- 子周期2（从模块申请占用总线，将各种信息送至总线上）

**分离式通信特点**
> 充分提高了总线的有效占用

- 各模块有权申请占用总线
- 采用同步方式通信，不等对方回答
- 各模块准备数据时，不占用总线
- 总线被占用时，无空闲
